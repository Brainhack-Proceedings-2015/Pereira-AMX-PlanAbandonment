%% BioMed_Central_Tex_Template_v1.06
%%                                      %
%  bmc_article.tex            ver: 1.06 %
%                                       %

%%IMPORTANT: do not delete the first line of this template
%%It must be present to enable the BMC Submission system to
%%recognise this template!!

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                     %%
%%  LaTeX template for BioMed Central  %%
%%     journal article submissions     %%
%%                                     %%
%%          <8 June 2012>              %%
%%                                     %%
%%                                     %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                                                 %%
%% For instructions on how to fill out this Tex template           %%
%% document please refer to Readme.html and the instructions for   %%
%% authors page on the biomed central website                      %%
%% http://www.biomedcentral.com/info/authors/                      %%
%%                                                                 %%
%% Please do not use \input{...} to include other tex files.       %%
%% Submit your LaTeX manuscript as one .tex document.              %%
%%                                                                 %%
%% All additional figures and files should be attached             %%
%% separately and not embedded in the \TeX\ document itself.       %%
%%                                                                 %%
%% BioMed Central currently use the MikTex distribution of         %%
%% TeX for Windows) of TeX and LaTeX.  This is available from      %%
%% http://www.miktex.org                                           %%
%%                                                                 %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% additional documentclass options:
%  [doublespacing]
%  [linenumbers]   - put the line numbers on margins

%%% loading packages, author definitions

\documentclass[twocolumn]{bmcart}% uncomment this for twocolumn layout and comment line below
%\documentclass{bmcart}

%%% Load packages
\usepackage{amsthm,amsmath}
\usepackage{siunitx}
\usepackage{mfirstuc}
%\RequirePackage{natbib}
\usepackage[colorinlistoftodos]{todonotes}
\RequirePackage{hyperref}
\usepackage[utf8]{inputenc} %unicode support
%\usepackage[applemac]{inputenc} %applemac support if unicode package fails
%\usepackage[latin1]{inputenc} %UNIX support if unicode package fails
\usepackage[htt]{hyphenat}

\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}p{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                             %%
%%  If you wish to display your graphics for   %%
%%  your own use using includegraphic or       %%
%%  includegraphics, then comment out the      %%
%%  following two lines of code.               %%
%%  NB: These line *must* be included when     %%
%%  submitting to BMC.                         %%
%%  All figure files must be submitted as      %%
%%  separate graphics through the BMC          %%
%%  submission process, not included in the    %%
%%  submitted article.                         %%
%%                                             %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%\def\includegraphic{}
%\def\includegraphics{}

%%% Put your definitions there:
\startlocaldefs
\endlocaldefs


%%% Begin ...
\begin{document}

%%% Start of article front matter
\begin{frontmatter}

\begin{fmbox}
\dochead{Report from 2015 Brainhack Americas (MX)}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Enter the title of your article here     %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{Detecting task-based fMRI compliance using plan abandonment techniques}
\vskip2ex
\projectURL{Project URL: \url{https://github.com/brainhack-poa/fmri-plan-recongnition}}

\author[
addressref={pucrs},
%
email={ramon.pereira@acad.pucrs.br}
]{\inits{RFP} \fnm{Ramon} \snm{Fraga Pereira}}
\author[
addressref={pucrs},
%
email={anibalsolon@gmail.com}
]{\inits{ASH} \fnm{Anibal SÃ³lon} \snm{Heinsfeld}}
\author[
addressref={pucrs},
%
email={alexandre.franco@pucrs.br}
]{\inits{ARF} \fnm{Alexandre} \snm{Rosa Franco}}
\author[
addressref={pucrs},
%
email={augusto.buchweitz@pucrs.br}
]{\inits{AB} \fnm{Augusto} \snm{Buchweitz}}
\author[
addressref={pucrs},
%
email={felipe.meneguzzi@pucrs.br}
]{\inits{FM} \fnm{Felipe} \snm{Meneguzzi}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Enter the authors' addresses here        %%
%%                                          %%
%% Repeat \address commands as much as      %%
%% required.                                %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\address[id=pucrs]{%
  \orgname{PUCRS},
  \city{Porto Alegre},
  \street{Av. Ipiranga, 6681},
  \postcode{90619-900},
  \postcode{Rio Grande do Sul},
  \cny{Brazil}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Enter short notes here                   %%
%%                                          %%
%% Short notes will be after addresses      %%
%% on first page.                           %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{artnotes}
\end{artnotes}

%\end{fmbox}% comment this for two column layout

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% The Abstract begins here                 %%
%%                                          %%
%% Please refer to the Instructions for     %%
%% authors on http://www.biomedcentral.com  %%
%% and include the section headings         %%
%% accordingly for your article type.       %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\begin{abstractbox}

%\begin{abstract} % abstract
	
%Blank Abstract

%\end{abstract}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% The keywords begin here                  %%
%%                                          %%
%% Put each keyword in separate \kwd{}.     %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\vskip1ex

%\projectURL{\url{https://github.com/brainhack-poa/fmri-plan-recongnition}}
%\projectURL{https://github.com/brainhack-poa/fmri-plan-recongnition}

% MSC classifications codes, if any
%\begin{keyword}[class=AMS]
%\kwd[Primary ]{}
%\kwd{}
%\kwd[; secondary ]{}
%\end{keyword}

%\end{abstractbox}
%
\end{fmbox}% uncomment this for twcolumn layout

\end{frontmatter}

%{\sffamily\bfseries\fontsize{10}{12}\selectfont Project URL: \url{https://github.com/brainhack-poa/fmri-plan-recongnition}}

%%% Import the body from pandoc formatted text
\section{Introduction}\label{introduction}

Task-based fMRI is a powerful approach to understand brain processes for
a certain task. However, fMRI images are usually preprocessed hours,
days or even months after the scan. During the functional image
preprocessing stage, defects in images are detected and, in some cases,
cannot be corrected. For example, technical problems with the scanner or
lack of collaboration from the subject to perform the given tasks. For
these cases it is necessary to realize a new scan. In order to mitigate
lost scans due to patient non-compliance, we need an approach to detect
such non-compliance during the scan.

\section{Approach}\label{approach}

In this BrainHack project, we aim to detect if a subject is following
the given task and provide an almost real-time feedback to the
researchers to make a decision during the exam if the subject is not
<<<<<<< b4b66f2090b764e133175bea9444c2172ac191a7
collaborating. To do so, we use plan abandonment techniques
\cite{Sukthankar2014}, a sub-area of Artificial Intelligence. For a
given fMRI paradigm, a plan should be created and compared with the
subject's brain activation during the scan using recognition methods. To
use plan abandonment techniques, we need to discretize and formalize the
fMRI and construct a expected plan based on the hypothesized paradigm
using this formalization. 
To evaluate the compliance with a specific paradigm, we aim to use real-time fMRI methods to retrieve BOLD signals of brain regions that are supposed to be active in a particular time range. 
In order to tolerate fluctuations of the BOLD signal, we aim to use the methods that detect non-compliance using a threshold from the expected activation \cite[Chap 4]{Sukthankar2014}. 
By doing so, it is possible to detect if a subject is following the paradigm given a specific stimulus type, such as visual or auditory
stimulus. The brain state of each stimulus type will be mapped based on atlas from the literature. \textbf{For example, Brodmann areas 17, 18 and 19
will be mapped to cover visual stimulus with a state
\emph{visual\_actv}. To cover motor activations, Brodmann area 4 will be mapped 
with a state \emph{motor\_actv}. 
Thus, for a paradigm that works with visual stimuli,
the plan must contain \emph{visual\_actv} for the given time that the
stimulus occurs. And, for a paradigm that works with motor tasks, the plan must contain \emph{motor\_actv} for the given time that the task occurs.}
=======
collaborating. This is necessary to be performed in order to avoid loss
of data, in which the images are typically processed and quality
assessed at another day. We will focus on task where there are no button
responses from the subject, hence relying solely in the BOLD signal if
the subject is collaborating. To do so, we use plan abandonment
techniques \cite{Sukthankar2014}, a sub-area of Artificial Intelligence.
For a given fMRI paradigm, a plan should be created and compared with
the subject's brain activation during the scan using recognition
methods. To use plan abandonment techniques, we need to discretize and
formalize the fMRI and construct a expected plan based on the
hypothesized paradigm using this formalization. To evaluate the
compliance with a specific paradigm, we aim to use real-time fMRI
methods to retrieve BOLD signals of brain regions that are supposed to
be active in a particular time range. In order to tolerate fluctuations
of the BOLD signal, we aim to use the methods that detect non-compliance
using a threshold from the expected activation
\cite[Chap 4]{Sukthankar2014}. By doing so, it is possible to detect if
a subject is following the paradigm given a specific stimulus type, such
as visual or auditory stimulus. The brain state of each stimulus type
will be mapped based on atlas from the literature. For example, to cover
motor activations, Brodmann area 4 will be mapped with a state
\emph{motor\_actv}. Thus, for a paradigm that works with motor tasks,
the plan must contain \emph{motor\_actv} for the given time that the
task occurs.
>>>>>>> Incorporating changes from meneguzzi and ramonfpereira

\section{Discussion}\label{discussion}

The formalization of brain states strongly depends on the discretization
of specific region states, which might vary from subject to subject. In
order to normalize the signals, a previous tuning phase is required with
simple paradigms, depending on which paradigm will be executed. During
the scan, an online normalization must be made to a standard space, such
as the MNI brain space. This real-time processing is required to map
expected active regions to the previously selected brain areas from an
atlas.

The usage of real-time fMRI methods aggregates to our approach since the
tuning and pursuance recognition can be made during the exam. Such
real-time fMRI methods can also monitor movements during the scan in
order to identify if there is too much subject movement. In the case of
fMRI paradigm abandonment, the paradigm can be adapted to induce or
interest the subject in a way that the subject proceeds with its tasks,
using methods such as demonstrated by \cite{Dongha2011}. Neurofeedback
can be used to sustain the subject's interest by letting the paradigm be
more challenging, requiring more attention and collaboration from the
patient, such as the paradigm from \cite{deBettencourt2015}.

\section{Conclusions}\label{conclusions}

This project is in its initial phase. Real-time fMRI methods are being
tested, using AFNI's provided tools. In order to use plan abandonment
techniques, the next step is to formalize basic stimuli types based on
mapped regions. By using these formalizations, paradigms can be
converted to a problem of plan abandonment and it becomes possible to
evaluate the participation of a subject during the scan.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Backmatter begins here                   %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{backmatter}

\section*{Availability of Supporting Data}
More information about this project can be found at: \url{https://github.com/brainhack-poa/fmri-plan-recongnition}. Further data and files supporting this project are hosted in the \emph{GigaScience} repository REFXXX.

\section*{Competing interests}
None

\section*{Author's contributions}
RFP and FM develop the project, and RFP, ASH, FM, ARF, and AB wrote the
report.

\section*{Acknowledgements}
The authors would like to thank the organizers and attendees of
Brainhack MX and the developers of AFNI.

  
  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                  The Bibliography                       %%
%%                                                         %%
%%  Bmc_mathpys.bst  will be used to                       %%
%%  create a .BBL file for submission.                     %%
%%  After submission of the .TEX file,                     %%
%%  you will be prompted to submit your .BBL file.         %%
%%                                                         %%
%%                                                         %%
%%  Note that the displayed Bibliography will not          %%
%%  necessarily be rendered by Latex exactly as specified  %%
%%  in the online Instructions for Authors.                %%
%%                                                         %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% if your bibliography is in bibtex format, use those commands:
\bibliographystyle{bmc-mathphys} % Style BST file
\bibliography{brainhack-report} % Bibliography file (usually '*.bib' )

\end{backmatter}
\end{document}
